# MSA

# MSA란?

- MicroService Architecture
- `마이크로서비스(MS)` : 애플리케이션을 핵심 기능으로 세분화하는 아키텍처 기반의 접근 방식
    - `서비스` : 각 기능. 독립적으로 구축하고 배포할 수 있다.
    - `애플리케이션(Application)` : 특정 목적을 위해 작업을 수행하도록 설계된 하나 이상의 프로그램
    - `애플리케이션 아키텍처(Application Architecture)` : 애플리케이션을 설계하고 구축하는 데 사용하는 패턴과 기술을 설명
        - 마이크로 서비스와 애플리케이션 프로그래밍 인터페이스(API)를 사용해 보다 탄력적으로 결합되어 서비스를 연결하고 클라우드 네이티브 애플리케이션의 기반을 제공
        - ex) N-티어 아키텍처(긴밀한 결합), 마이크로 서비스(분리됨), 이벤트 기반 아키텍처 및 서비스 기반 아키텍처(탄력적 결합)
            - `서비스 지향 아키텍처(Service-Oriented Architecture, SOA)` : 체계적으로 구축된 소프트웨어 설게 스타일로, 마이크로서비스 아키텍처와 유사
                - 애플리케이션을 별개의 재사용 가능한 서비스 단위로 분할하며 이 서비스는 엔터프라이즈 서비스 버스(ESB)를 통해 통신
                - 특정 비즈니스 프로세스를 기반으로 구성된 개별 서비스가 통신 프로토콜(SOAP, ActiveMQ 등)을 준수하며 ESB의 플랫폼을 통해 공유됨
- 작고, 독립적으로 배포 가능한 각각의 기능을 수행하는 서비스로 구성된 프레임워크

# 모놀리식 (Monolith)

- 전체 애플리케이션의 소스 코드는 하나의 배포 유닛(.war 혹은 .ear 등)으로 내장됨

### 장점

- 로컬 환경에서 개발하기에 편리
- 통합 시나리오 테스트를 수행하기에 쉬운 구성
- 모든 코드가 하나의 묶음으로 이루어져있으므로 배포가 간단

### 단점

- 최소한의 변경사항이 있어도 자체적인 QA(Quality Assurance) 주기에 따라 대규모 업데이트를 해야함
- 일부 애플리케이션의 업데이트로 인해 오류가 발생할 경우, 전체를 오프라인으로 전환 후 운영 규모를 축소시킨 후 문제를 해결해야함

### 서비스 복잡도 증가로 인해 모놀리틱 아키텍처가 가지는 문제점

- 배포 시간의 증가
- 부분적 스케일 아웃의 어려움
    - `스케일 아웃(Scale out)` : 장비를 추가해서 확장하는 방식
        - 비슷한 사양의 서버를 연결해 추가된 분만큼 용량이 증가할 뿐만 아니라 워크로드를 분담해 성능을 높이는 병렬 컴퓨팅 구현
        - 수평 스케일링(horizontal scaling)
    - `스케일 업(Scale up)` : 기존의 하드웨어를 보다 높은 사양으로 업그레이드 함
        - 성능이나 용량 증가을 목적으로 하나의 서버에 디스크를 추가하거나 CPU나 메모리를 업그레이드
        - 수직 스케일링(vertical scaling)
- 안정성의 감소
- 프로그래밍 언어, 프레임워크 변경의 어려움

# 마이크로 서비스(Microservice)

- 모놀리식의 문제를 해결하고 원하는 비즈니스 목표를 이루기 위해 등장
- 소프트웨어가 잘 정의된 API를 통해 통신하는 소규모의 독립적인 서비스로 구성되어 있는 경우의 소프트웨어 개발을 위한 아키텍처 및 조직적 접근 방식
    - `API(Application Programming Interface` : 프로그램에서 사용할 수 있도록 운영 체제나 프로그래밍 언어가 제공하는 기능을 제어할 수 있게 만든 인터페이스. 응용 프로그램 간에 호환이 가능하도록 상호 작용하는 방법을 정해 놓은 것 (응용 프로그램 간에 데이터를 주고받는 방법)
        - `인터페이스(Interface)` : 서로 다른 사물이나 시스템 간에 커뮤니케이션(소통)이 가능하도록 설계한 상호 작용 방식.
- 단일 애플리케이션을 여러 개의 단일 서비스로 개발하는 방법

### 마이크로 서비스의 특징

- 각각 자체 프로세스에서 실행, 대개 HTTP API와 통신
- 비즈니스 기능을 중심으로 구축되며 독립적으로 배포 가능
- 최소한의 중앙 집중식 관리
- 다른 프로그래밍 언어, 다른 데이터베이스 사용 가능

### 장점

- 분산형 개발을 통해 효율적인 개발 가능 (출시 기간 단축)
- 개별 서비스가 다른 서비스에 부정적인 영향을 주지 않으면서 작동할 수 있음 (뛰어난 복구 능력)
- 다른 서비스들과 유연하게 결합하며 (언어의 제약X) 향후 확장 및 새로운 기능 통합 등에 대비할 수 있음 (높은 확장성)
- 기존의 모놀리식에 비해 더욱 모듈화되었기 때문에 배포에 따른 우려 사항들이 적어짐 (손쉬운 배포)
- 개발자들이 각각의 서비스를 파악하고 개선하기에 용이해짐 (편리한 액세스)

### 단점

- 큰 프로젝트에는 많은 서비스들이 존재하므로, 모든 서비스를 모니터링 하는 오버헤드가 증가함
- 서비스에서 다른 서비스를 호출하므로 서비스에 장애가 발생한 경우 경로 및 장애 추적이 힘들 수 있음
- 서비스별로 로그가 생성되기 때문에 중앙 로그 모니터링은 존재하지 않음
- 각 서비스는 API를 통해 통신하므로 네트워크 통신에 의한 오버헤드가 발생

![MSA/Untitled.png](MSA/Untitled.png)

![MSA/Untitled%201.png](MSA/Untitled%201.png)

# 참고 자료

- [MSA] MSA란 무엇인가?

    [https://velog.io/@wjdtmdgml/MSAMSA란-무엇인가](https://velog.io/@wjdtmdgml/MSAMSA%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80)

- [Server] MSA(MicroService Architecture) 란?

    [https://mangkyu.tistory.com/108](https://mangkyu.tistory.com/108)

- 서비스 경량화를 위한 MSA 설계 시 고려사항

    [https://www.samsungsds.com/kr/insights/1239180_4627.html](https://www.samsungsds.com/kr/insights/1239180_4627.html)
